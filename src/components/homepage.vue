
<template>
  <div class="d-flex flex-column justify-content-center w-100 h-100">
    <div class="d-flex flex-column justify-content-center align-items-center">
      <div class="homeapp">
        <div class="inhomeapp">
        <el-container>
          <el-header>
            <div class="section--unicorn">
              <div class="unicorn-container">
                <svg class="vuenicorn" x="0px" y="0px" width="90px" height="120px" viewBox="0 0 127.9 142.5"
                  style="enable-background:new 0 0 127.9 142.5;" xml:space="preserve">
                  <g>
                    <path class="st0" :style="{ fill: mainColor }" d="M38.9,91.5c0,0,0-19-6.8-28.3c-4.8-6.6-15.8-5.2-19.8-4s-10.8,8-10.8,8s6.8-1.5,9.2,0.2s-5.5,25.8,5.5,28
        s20.1,0.8,20.1,0.8L38.9,91.5z" />
                    <path class="st0" :style="{ fill: mainColor }"
                      d="M70.3,25c0,0-25.4,19.8-12.3,42.8s59.6,29.8,59.6,29.8s-17.4-16.8-14.2-23.8C106.6,66.8,70.3,25,70.3,25z" />
                    <path class="st0" :style="{ fill: mainColor }" d="M78.5,21.4c0,0,15.3-16.2,26.9-1.6c7.3,9.2,9.7,13.5,13.7,10.5s4.8-5.9,4.8-5.9s9.7,21.5-4.3,25.2
        c-14,3.8-34.2-12-37.9-19.4S77.9,23,78.5,21.4z" />
                  </g>
                  <g>
                    <path class="st1" :style="{ fill: tailAccentColor }" d="M1.6,67.2c0,0,5.5-3.2,10.2-2.6s6.7,10.6,5.8,14.9c-1.6,7.2,4.7,16.6,19.2,14.8l2.1-2.8c0,0-6.8-1.5-6.9-7.4
        s1.6-8.8-1.8-14.6C27.9,65.6,19.7,55.1,1.6,67.2z" />
                    <path class="st1" :style="{ fill: tailAccentColor }" d="M75,27.2c0,0,7.3-3.2,5.6,1.1c-1.8,4.5-9,19.7-7.2,22.9c3.7,6.3,44.1,46.2,44.1,46.2S88.8,85.4,88.3,85.2
        S37.8,48.3,75,27.2z" />
                    <path class="st1" :style="{ fill: tailAccentColor }" d="M80.6,25.7c0,0,11-10.5,17.5-5.1s11.7,14.4,15,13.5c3.3-0.8,11-5.5,10.7-9.6c0,0,3.2,11.9-2.7,15.2
        s-30.3-0.8-43-12.2S80.6,25.7,80.6,25.7z" />
                  </g>
                  <path class="st2" :style="{ fill: bodyColor }"
                    d="M100.4,85c0,0-10.5-3.7-5.5-13.8c0,0,6.4,15.1,14.6,17.2C109.4,88.4,103.9,86.9,100.4,85z" />
                  <g>
                    <path class="st2" :style="{ fill: bodyColor }"
                      d="M103.4,29.1c0,0,5-10.6,10.5-9.1c0,0,4.9,7.2-2.3,14.5" />
                    <path class="st2" :style="{ fill: bodyColor }"
                      d="M86.3,98.9c0,0,24,3.3,28.7,3.3c4.7,0,4.5,10.1,1,11.7c-3.5,1.5-34.3-7-34.3-7" />
                    <path class="st2" :style="{ fill: bodyColor }"
                      d="M45,112.2c0,0-17.3,18.3-17.3,22.7c0,4.3,6,10.7,11,4.7L58,107.9L45,112.2z" />
                    <path class="st2" :style="{ fill: bodyColor }" d="M72.2,38.6c0,0,1.5,30-8,35.2s-38.8,14.2-23.5,35.2c-22.3,11.6-18.5,10.7-19.7,11.7c-3.8,3.1,0,10,5,10.3
        c5,0.3,23.3-17,23.3-17S69,125.6,86,105.2c0,0,6.2-12.2,6.6-24.5c0,0,20.4,13.2,28.4,7.2s8-12.7,3-20s-8.7-18-9.3-29.3
        S76,19.9,72.2,38.6z" />
                    <path class="st2" :style="{ fill: bodyColor }"
                      d="M76,107.9c0,0,22.3,13.7,28,13.7c5.7,0,10-6.1,6-10.3s-27-9-27-9" />
                    <path class="st2" :style="{ fill: bodyColor }"
                      d="M73.4,42.5c0,0-7.9-15.8,1.4-24.2c0,0,6.8,2.8,6.8,14.8" />
                    <path class="st2" :style="{ fill: bodyColor }"
                      d="M94.5,52.9c0,0,0.8-4.6-3.1-6.9c-3.3-1.9-4.9,2.6-4.9,2.6c-0.5,2-0.6,4.1-0.6,4.1s1.7,0.6-1.7,0.1" />
                    <path class="st2" :style="{ fill: bodyColor }"
                      d="M119.1,77.7c0,0-2.7-0.6-1.5-1.9c2.5-2.7,1.9,0.8,1.9,0.8" />
                  </g>
                  <g>

                    <ellipse transform="matrix(0.4488 -0.8936 0.8936 0.4488 -104.3321 105.4183)" class="st3"
                      :style="{ fill: footColor }" cx="33.3" cy="137.3" rx="4.4" ry="5.9" />
                    <ellipse transform="matrix(0.9868 -0.162 0.162 0.9868 -19.93 5.5342)" class="st3"
                      :style="{ fill: footColor }" cx="24" cy="125" rx="4.5" ry="6.3" />
                    <ellipse transform="matrix(0.5594 -0.8289 0.8289 0.5594 -49.2297 139.2562)" class="st3"
                      :style="{ fill: footColor }" cx="106.4" cy="115.9" rx="5.9" ry="4.4" />
                    <ellipse transform="matrix(0.1444 -0.9895 0.9895 0.1444 -9.0074 206.8203)" class="st3"
                      :style="{ fill: footColor }" cx="115.1" cy="108.6" rx="5.9" ry="4.4" />
                  </g>
                  <g>
                    <path class="st4" :style="{ fill: wingColor }" d="M60.5,78.6c0,0-6.3-14.4-9-16.8c-2.7-2.4-8-4.6-7.8-2.2c0.1,2.4,3,3.4,3,3.4s-3.4-0.5-3.3,1.1
        c0.1,1.6,3.8,2.3,3.8,2.3s-3.8,2-1.9,3.5c1,0.8,3.1-0.4,3.1-0.4l9.6,10.1C57.9,79.6,59.3,81.3,60.5,78.6z" />
                    <path class="st4" :style="{ fill: wingColor }" d="M61.2,78.1c0,0-10.9-11.3-14.3-12.6c-3.3-1.3-9.1-1.5-8.1,0.7c1,2.2,4,2.2,4,2.2s-3.3,0.7-2.7,2.2
        c0.7,1.5,4.3,0.8,4.3,0.8s-2.8,3.2-0.6,3.9c1.2,0.4,2.7-1.4,2.7-1.4l12.5,6.1C59.2,79.8,61,81,61.2,78.1z" />
                  </g>
                  <path class="st5" :style="{ fill: hornColor }"
                    d="M94.8,30.4c0,0,6.4,5.9,8.5,2.9c4.2-5.8,14.8-32.8,12.1-32.8C115.5,0.5,96.1,19.5,94.8,30.4z" />
                  <path class="st2" style="fill:white"
                    d="M97.4,84c0,0-10.5-3.7-5.5-13.8c0,0,6.4,15.1,14.6,17.2C106.4,87.4,100.9,85.9,97.4,84z" />
                  <path class="st6" :style="{ fill: hornColor }" d="M107.8,8.8c0,0-4.3,6.4-1.4,10.2" />
                  <path class="st6" :style="{ fill: hornColor }" d="M100.5,18.2c0,0-4.1,3.8-1.5,8.9" />
                </svg>
              </div>
            </div>
            <div class="head">普通高等学校查询平台</div>
            <el-input size="medium" suffix-icon="el-icon-search" v-model="search" placeholder="搜索学校"
              @keyup.enter.native="searchEnterFun"></el-input>
            <el-menu :default-active="this.$router.path" router mode="horizontal" class="el-menu-demo">
              <el-menu-item v-for="(item, i) in navList" :key='i' :index='item.name' class="el-menu-demo-item">
                {{ item.navItem }}
              </el-menu-item>
            </el-menu>
          </el-header>
          <el-main>
            <div class='carousel'>
              <el-carousel :interval="4000" type="card" height="200px" >
                <el-carousel-item v-for="item in photos" :key="item.name">
                  <img :src="item.src" width='500px' alt="图片丢失了" :title="item.title" />
                </el-carousel-item>
              </el-carousel>
            </div>
            <el-table ref="filterTable" :data="tableData" header-cell-class-name="table_header">
              <el-table-column prop="Sid" label="学校id" width="100">
              </el-table-column>
              <el-table-column prop="Xxbsm" label="学校标识码" sortable width="180" column-key="xxbsm">
              </el-table-column>
              <el-table-column prop="Xxmc" label="学校名称" width="360">
              </el-table-column>
              <el-table-column prop="Zgbm" label="主管部门" width="180">
              </el-table-column>
              <el-table-column prop="Szd" label="所在地" width="180">
              </el-table-column>
              <el-table-column prop="Bxcc" label="办学层次" width="180"
                :filters="[{ text: '本科', value: '本科' }, { text: '专科', value: '专科' }]" :filter-method="filterTag"
                filter-placement="bottom-end">
                <template slot-scope="scope">
                  <el-tag :type="scope.row.Bxcc === '本科' ? 'primary' : 'success'"
                    disable-transitions>{{ scope.row.Bxcc }}</el-tag>
                </template>
              </el-table-column>
              <el-table-column label="进入主页">
                <template slot-scope="scope">
                  <el-button size="mini" @click="handleEdit(scope.row)">进入主页</el-button>
                </template>
              </el-table-column>
            </el-table>
          </el-main>
        </el-container>
      </div>
    </div>
    </div>
  </div>
</template>

<style scoped>

.head{
  color:hsl(330, 98%, 51%);
  color:azure;
  font-size:30px;
}
.el-header,
.el-footer {
  background: rgba(254, 252, 253, 0.214);
  color: black;
  line-height: 60px;
  min-height:130px;
  border-radius: 30px;
}

.el-main {
  text-align: center;
  line-height: 50px;
  margin:100;
  background: rgba(66, 66, 66, 0);
}

.homeapp.el-container {
  height: 100%;
}

.el-menu-demo {
  position: absolute;
  left: 60%;
  background:transparent;
  border-radius: 10px;
}
.el-menu-demo-item{
  background:transparent;
  border-radius: 10px;
  font-weight: bold;
  /*color:hsl(330, 98%, 51%);*/
  color:azure;
  font-size: 20px;  
}
.el-input {
  position: absolute;
  left: 30%;
  width: 20%;
}
.el-table /deep/ .table_header{
  background-color:transparent;
}

.el-carousel__item {
  width: 80%;
  left: -15%;
  background: transparent;
}

.el-carousel__item:nth-child(2n) {
  background: transparent;
}

.el-carousel__item:nth-child(2n+1) {
  background: transparent;
}

div::-webkit-scrollbar {
  width: 6px;
}

div::-webkit-scrollbar-track {
  background: rgb(255, 255, 255);
  border-radius: 10px;
}

div::-webkit-scrollbar-thumb {
  background: #40a0ff49;
  border-radius: 10px;
}

div::-webkit-scrollbar-thumb:hover {
  background: #40a0ff;
}

@import url('https://fonts.googleapis.com/css?family=Overpass');


.st0,
.st2,
.st3,
.st5,
.st6 {
  stroke: #000000;
  stroke-miterlimit: 10;
}

.st4 {
  stroke: #A5A5A5;
  stroke-miterlimit: 10;
}

.vuenicorn:hover {
  animation: shake-shake 1s 3 ease-in-out;
}

.section--unicorn {
  display: flex;
  left: 15%;
  height: 1%;
}

@keyframes shake-shake {
  10% {
    transform: rotate(10deg)
  }

  30% {
    transform: rotate(-30deg)
  }

  50% {
    transform: rotate(10deg)
  }

  70% {
    transform: rotate(-20deg)
  }

  90% {
    transform: rotate(10deg)
  }

  100% {
    transform: rotate(0deg);
  }
}

/*最外层透明*/
/deep/ .el-table, /deep/ .el-table__expanded-cell{
  background-image: linear-gradient(315deg, rgba(246, 150, 188,0.5)  0%,rgba(118,174,241,0.5) 74%);
  
  border-radius:10px;
  border-style:ridge;
}
/* 表格内背景颜色 */
/deep/ .el-table th,
/deep/ .el-table tr,
/deep/ .el-table td {
  background-color: transparent;
}

.el-input /deep/ .el-input__inner {
    background-color: transparent;
    border-radius: 10px;
    border: 1px solid #DCDFE6;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    color: hsl(300, 20%, 99%);
    text-shadow:2px 2px#c797eb;
    font-size:16px;
    display: inline-block;
    height: 40px;
    line-height: 40px;
    outline: 0;
    padding: 0 15px;
    -webkit-transition: border-color .2s cubic-bezier(.645,.045,.355,1);
    transition: border-color .2s cubic-bezier(.645,.045,.355,1);
    width: 100%;
}
</style>

<script>
export default {
  name: 'homepage',
  data() {
    return {
      name: 'A Beautiful Vuenicorn',
      mainColor: '#662d91',
      tailAccentColor: '#36c1d9',
      bodyColor: '#efe2B4',
      footColor: '#05f1CD',
      wingColor: '#fff',
      hornColor: '#c69',
      photos: [
        {
          name: '清华',
          src: require("../assets/tsinghua.jpg"),
          title: '清华大学'
        },
        {
          name: '北大',
          src: require("../assets/peiking.jpg"),
          title: '北京大学'
        },
        {
          name: '复旦',
          src: require("../assets/fudan.jpg"),
          title: '复旦大学'
        },
        {
          name: '同济',
          src: require("../assets/tongji.jpg"),
          title: '同济大学'
        },
        {
          name: '交大',
          src: require("../assets/jiaoda.jpg"),
          title: '上海交通大学'
        },
        {
          name: '浙大',
          src: require("../assets/zheda.jpg"),
          title: '浙江大学'
        },
      ],
      navList: [
        { name: '/select', navItem: '筛选学校' },
        { name: '/personal', navItem: '个人中心' },
      ],
      search: '',
      tableData: []
    }
  },
  methods: {
    filterTag(value, row) {
      return row.Bxcc === value;
    },
    searchEnterFun() {
      if (search === '') {
        this.$message({ showClose: true, message: "搜索内容不能为空！", type: 'error' });
        return;
      }
      var search = this.search;
      this.$http.post('/api/user/searchSchool', {
        search: search
      }, {}).then((response) => {
        if (response.body.length === 0) {
          this.$message({ showClose: true, message: "没有查询到哦~换一个搜索词吧！", type: 'error' });
        }
        else {
          this.$message({ showClose: true, message: "搜索成功了！都在这里哦~", type: 'success' });
          this.tableData = response.body;
          this.search='';
        }
      })

    },
    handleEdit(row) {
      let schstr = JSON.stringify(row)
      sessionStorage.setItem("Schoolinfo", [schstr]);//存储下来
      this.$router.push('school')
    }
  }
}
</script>